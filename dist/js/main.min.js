let timeout;function mobileView(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}function MultiForm(e){if(!(e instanceof Element))throw new Error("No form passed in");let t,i=0;const l=e.querySelector("form"),r=Array.from(e.querySelectorAll("fieldset")),n=r.length,o=Array.from(e.querySelectorAll("[data-input]")),s=e.querySelectorAll(".progress__item"),a=e.querySelectorAll(".applicant__name"),c=document.querySelector(".prev__arrow"),u=e.querySelector("#privacy");function d(e){0==e?c.classList.remove("visible"):c.classList.add("visible"),r[e].classList.add("current"),(function(e){for(let e=0;e<s.length;e++)s[e].className=s[e].className.replace(" active"," ");s[e].className+=" active"})(e)}function m(){console.log("Validating");let e=!0,t=r[i].querySelectorAll("input");if(0==i){let e=r[i].querySelector('input[name="firstName"]');a.forEach((t=>{t.innerHTML=e.value.trim()}))}for(let i=0;i<t.length;i++){if(f()){t[i].classList.remove("invalid");break}t[i].classList.contains("invalid")||t[i].classList.add("invalid"),t[i].closest("fieldset").classList.add("has-error"),e=!1}!(function(e){e?(s[i].className+="finished",r[i].classList.remove("current"),++i):console.log("Hello I have not moved");d(i)})(e)}function f(){let e=!0,t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,l=r[i].querySelectorAll("input"),n=r[i].querySelectorAll("select");if(4===i)for(let t=0;t<n.length;t++)""===n[t].value&&(e=!1);else if(0===i)for(let t=0;t<l.length;t++)if("checkbox"===l[t].type){if(l[t].checked){e=!0;break}e=!1}else""===l[t].value&&(e=!1);else for(let i=0;i<l.length;i++)if("radio"===l[i].type){if(l[i].checked){e=!0;break}e=!1}else"email"===l[i].type?e=!!l[i].value.match(t):""===l[i].value&&(e=!1);return e}function v(){if(!f())return r[i].querySelector("button").setAttribute("aria-disabled","true"),!1;r[i].querySelector("button").setAttribute("aria-disabled","false")}function y(e){e.target.closest("input")?e.target.closest("input").classList.remove("invalid"):e.target.closest("select").classList.remove("invalid"),e.target.closest("fieldset").classList.remove("has-error")}function h(e){r[i].classList.remove("current"),i-=1,d(i)}function g(e){e.preventDefault(),console.log("Submitting"),l.parentElement.classList.add("done"),document.querySelector(".successMessage").classList.add("visible")}console.log("Initializing Form"),d(i),(function(){for(let e=0;e<n-1;e++)r[e].querySelector("button").addEventListener("click",m);o.forEach((e=>e.addEventListener("keyup",(function(e){y(e),clearTimeout(t),t=setTimeout((()=>{v()}),250)})))),o.forEach((e=>e.addEventListener("change",(function(e){y(e),clearTimeout(t),t=setTimeout((()=>{v()}),250)})))),u.addEventListener("change",(function(e){y(e),clearTimeout(t),t=setTimeout((()=>{v()}),250)})),c.addEventListener("click",h),l.addEventListener("submit",g)})()}window.addEventListener("resize",(function(){clearTimeout(timeout),timeout=setTimeout((function(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}),250)})),window.MultiForm=MultiForm;