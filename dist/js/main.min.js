let timeout;function mobileView(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}function MultiForm(e){if(!(e instanceof Element))throw new Error("No form passed in");let t,i=0;const l=e.querySelector("form"),r=Array.from(e.querySelectorAll("fieldset")),s=r.length,n=Array.from(e.querySelectorAll("[data-input]")),o=e.querySelectorAll(".progress__item"),a=e.querySelectorAll(".applicant__name"),c=document.querySelector(".prev__arrow");function u(e){0==e?c.classList.remove("visible"):c.classList.add("visible"),r[e].classList.add("current"),(function(e){for(let e=0;e<o.length;e++)o[e].className=o[e].className.replace(" active"," ");o[e].className+=" active"})(e)}function d(){console.log("Validating");let e=!0;if(0==i){let e=r[i].querySelector('input[name="firstName"]');a.forEach((t=>{t.innerHTML=e.value.trim()}))}let t=r[i].querySelectorAll("input");for(let i=0;i<t.length&&!m();i++)t[i].classList.contains("invalid")||t[i].classList.add("invalid"),t[i].closest("fieldset").classList.add("has-error"),e=!1;!(function(e){e?(o[i].className+="finished",r[i].classList.remove("current"),++i):console.log("Hello I am this stage");u(i)})(e)}function m(){let e=!0,t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,l=r[i].querySelectorAll("input"),s=r[i].querySelectorAll("select");if(4===i)for(let t=0;t<s.length;t++)""===s[t].value&&(e=!1);else for(let i=0;i<l.length;i++)if("radio"===l[i].type){if(l[i].checked){e=!0;break}e=!1}else"email"===l[i].type?e=!!l[i].value.match(t):""===l[i].value&&(e=!1);return e}function f(){if(!m())return r[i].querySelector("button").setAttribute("aria-disabled","true"),!1;r[i].querySelector("button").setAttribute("aria-disabled","false")}function v(e){e.target.closest("input")?e.target.closest("input").classList.remove("invalid"):e.target.closest("select").classList.remove("invalid"),e.target.closest("fieldset").classList.remove("has-error")}function y(){r[i].classList.remove("current"),i-=1,u(i)}function g(e){e.preventDefault(),console.log("Submitting"),l.classList.add("done"),document.querySelector(".successMessage").classList.add("visible")}console.log("Initializing Form"),u(i),(function(){for(let e=0;e<s-1;e++)r[e].querySelector("button").addEventListener("click",d);n.forEach((e=>e.addEventListener("keyup",(function(e){v(e),clearTimeout(t),t=setTimeout((()=>{f()}),250)})))),n.forEach((e=>e.addEventListener("change",(function(e){v(e),clearTimeout(t),t=setTimeout((()=>{f()}),250)})))),c.addEventListener("click",y),l.addEventListener("submit",g)})()}window.addEventListener("resize",(function(){clearTimeout(timeout),timeout=setTimeout((function(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}),250)})),window.MultiForm=MultiForm;