let timeout;function mobileView(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}function MultiForm(e){if(!(e instanceof Element))throw new Error("No form passed in");let t,l=0;e.querySelector("form");const i=Array.from(e.querySelectorAll("fieldset")),r=i.length,o=Array.from(e.querySelectorAll("[data-input]")),n=e.querySelectorAll(".progress__item"),s=e.querySelector(".applicant__name"),a=document.querySelector(".prev__arrow");function c(e){0==e?a.classList.remove("visible"):a.classList.add("visible"),i[e].classList.add("current"),(function(e){for(let e=0;e<n.length;e++)n[e].className=n[e].className.replace(" active"," ");n[e].className+=" active"})(e)}function u(){console.log("Validating");let e=!0;if(0==l){let e=i[l].querySelector('input[name="firstName"]');s.innerHTML=e.value.trim()}let t=i[l].querySelectorAll("input");for(let l=0;l<t.length&&!d();l++)t[l].classList.contains("invalid")||t[l].classList.add("invalid"),t[l].closest("fieldset").classList.add("has-error"),e=!1;!(function(e){e?(n[l].className+="finished",l>=r&&console.log("Hello"),i[l].classList.remove("current"),++l):console.log("Hello I am this stage");c(l)})(e)}function d(){let e=!0,t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,r=i[l].querySelectorAll("input"),o=i[l].querySelectorAll("select");if(4===l)for(let t=0;t<o.length;t++){""===o[t].value&&(e=!1);break}else for(let l=0;l<r.length;l++)if("radio"===r[l].type){if(r[l].checked){e=!0;break}e=!1}else"email"===r[l].type?e=!!r[l].value.match(t):""===r[l].value&&(e=!1);return e}function m(){if(!d())return i[l].querySelector("button").setAttribute("aria-disabled","true"),!1;i[l].querySelector("button").setAttribute("aria-disabled","false")}function f(e){e.target.closest("input")?e.target.closest("input").classList.remove("invalid"):e.target.closest("select").classList.remove("invalid"),e.target.closest("fieldset").classList.remove("has-error")}function v(){i[l].classList.remove("current"),l-=1,c(l)}console.log("Initializing Form"),c(l),(function(){for(let e=0;e<r;e++)i[e].querySelector("button").addEventListener("click",u);o.forEach((e=>e.addEventListener("keyup",(function(e){f(e),clearTimeout(t),t=setTimeout((()=>{m()}),250)})))),o.forEach((e=>e.addEventListener("change",(function(e){f(e),clearTimeout(t),t=setTimeout((()=>{m()}),250)})))),a.addEventListener("click",v)})()}window.addEventListener("resize",(function(){clearTimeout(timeout),timeout=setTimeout((function(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}),250)})),window.MultiForm=MultiForm;