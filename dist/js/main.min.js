let timeout;function mobileView(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}function MultiForm(e){if(!(e instanceof Element))throw new Error("No form passed in");let t,l=0;const i=e.querySelector("form"),r=Array.from(e.querySelectorAll("fieldset")),n=r.length,s=Array.from(e.querySelectorAll("[data-input]")),o=e.querySelectorAll(".progress__item"),a=e.querySelectorAll(".applicant__name"),c=document.querySelector(".prev__arrow");function u(e){0==e?c.classList.remove("visible"):c.classList.add("visible"),r[e].classList.add("current"),(function(e){for(let e=0;e<o.length;e++)o[e].className=o[e].className.replace(" active"," ");o[e].className+=" active"})(e)}function d(){console.log("Validating");let e=!0;if(0==l){let e=r[l].querySelector('input[name="firstName"]');a.forEach((t=>{t.innerHTML=e.value.trim()}))}let t=r[l].querySelectorAll("input");for(let l=0;l<t.length&&!m();l++)t[l].classList.contains("invalid")||t[l].classList.add("invalid"),t[l].closest("fieldset").classList.add("has-error"),e=!1;!(function(e){e?(o[l].className+="finished",r[l].classList.remove("current"),++l):console.log("Hello I am this stage");u(l)})(e)}function m(){let e=!0,t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,i=r[l].querySelectorAll("input"),n=r[l].querySelectorAll("select");if(4===l)for(let t=0;t<n.length;t++)""===n[t].value&&(e=!1);else for(let l=0;l<i.length;l++)if("radio"===i[l].type){if(i[l].checked){e=!0;break}e=!1}else"email"===i[l].type?e=!!i[l].value.match(t):""===i[l].value&&(e=!1);return e}function f(){if(!m())return r[l].querySelector("button").setAttribute("aria-disabled","true"),!1;r[l].querySelector("button").setAttribute("aria-disabled","false")}function v(e){e.target.closest("input")?e.target.closest("input").classList.remove("invalid"):e.target.closest("select").classList.remove("invalid"),e.target.closest("fieldset").classList.remove("has-error")}function y(){r[l].classList.remove("current"),l-=1,u(l)}function g(e){e.preventDefault(),console.log("Submitting"),i.parentElement.classList.add("done"),document.querySelector(".successMessage").classList.add("visible")}console.log("Initializing Form"),u(l),(function(){for(let e=0;e<n-1;e++)r[e].querySelector("button").addEventListener("click",d);s.forEach((e=>e.addEventListener("keyup",(function(e){v(e),clearTimeout(t),t=setTimeout((()=>{f()}),250)})))),s.forEach((e=>e.addEventListener("change",(function(e){v(e),clearTimeout(t),t=setTimeout((()=>{f()}),250)})))),c.addEventListener("click",y),i.addEventListener("submit",g)})()}window.addEventListener("resize",(function(){clearTimeout(timeout),timeout=setTimeout((function(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}),250)})),window.MultiForm=MultiForm;